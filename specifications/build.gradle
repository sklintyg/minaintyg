description = 'Mina intyg (FitNesse)'

apply plugin: 'groovy'
apply plugin: 'inera-fitnesse'

fitnesse {
  port = 9124
  root = "FitNesseRoot"
  workingDir = "src/test/fitnesse"
  wikiStartPage = "MinaIntyg.AutomatiseradeTester"

  if (project.hasProperty('fileOutput')) {
    outputFormat = "xml&includehtml"
  }

  extraProperties = [
    'geb.env': "chrome",
    'certificate.baseUrl' : "http://localhost:8080/inera-certificate",
    'certificate.web.baseUrl' : "http://localhost:8088/",
    'fitnesse.working' : "src/test/fitnesse"
  ]

}

dependencies {

  compile project(":minaintyg-web")
  compile "se.riv.clinicalprocess.healthcond.certificate:clinicalprocess-healthcond-certificate-schemas:2.0.RC6.1"
  compile "se.riv.insuranceprocess.healthreporting:insuranceprocess-healthreporting-schemas:3.1.0.3"
  compile 'se.riv.itintegration.monitoring:itintegration-monitoring-schemas:1.0.0.3'

  compile "se.inera.intyg.common:log-messages:${commonVersion}"
  compile "se.inera.intyg.common:hsa-integration:${commonVersion}"
  compile "se.inera.intyg.common:common-specifications:${commonVersion}"

  compile 'javax.jms:jms-api:1.1-rev-1'
  compile 'org.apache.activemq:activemq-client:5.13.0'
  compile 'org.codehaus.groovy:groovy-all:2.4.3'
  compile 'org.fitnesse:fitnesse:20150814'
  compile 'org.gebish:geb-core:0.10.0'
  compile 'org.seleniumhq.selenium:selenium-server:2.48.2'
  compile 'org.seleniumhq.selenium:selenium-firefox-driver:2.47.1'
  compile 'org.seleniumhq.selenium:selenium-support:2.48.2'
  compile 'org.seleniumhq.selenium:selenium-chrome-driver:2.48.2'
  compile 'org.seleniumhq.selenium:selenium-safari-driver:2.48.2'
  compile 'org.seleniumhq.selenium:selenium-remote-driver:2.48.2'
  compile 'org.seleniumhq.selenium:selenium-htmlunit-driver:2.48.2'
  compile 'com.h2database:h2:1.3.174'
  compile 'com.jayway.awaitility:awaitility:1.4.0'

  fitnesse "org.fitnesse:fitnesse:20150814"
  fitnesse ("se.inera.intyg.common:common-specifications:${commonVersion}") { transitive = false }
}
